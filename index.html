<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RFID-Based Vehicle Toll Gate Automation System - Divakar M</title>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --accent-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --danger-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            --bg-color: #f8fafc;
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --border-color: rgba(255, 255, 255, 0.2);
            --shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        [data-theme="dark"] {
            --bg-color: #1a202c;
            --card-bg: rgba(45, 55, 72, 0.95);
            --text-primary: #f7fafc;
            --text-secondary: #e2e8f0;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            --shadow-hover: 0 25px 50px rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-color);
            transition: all 0.3s ease;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--primary-gradient);
            border: none;
            color: white;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-hover);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .profile-header {
            text-align: center;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .profile-info {
            background: var(--primary-gradient);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            display: inline-block;
            margin-bottom: 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .header {
            text-align: center;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .header h1 {
            font-size: 2.5rem;
            color: var(--text-primary);
            margin-bottom: 10px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tab-button {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .tab-button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .tab-button.active {
            background: var(--primary-gradient);
            color: white;
            border: none;
        }

        .tab-content {
            display: none;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .demo-section {
            background: var(--accent-gradient);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            color: white;
        }

        .workflow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: var(--secondary-gradient);
            border-radius: 15px;
            color: white;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .step-number {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tech-card {
            background: var(--accent-gradient);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
            color: white;
        }

        .tech-card:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .tech-card h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .features-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-item {
            background: var(--primary-gradient);
            color: white;
            padding: 20px;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .simulation-panel {
            background: var(--text-primary);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .simulation-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .sim-button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .sim-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .sim-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .rfid-animation-container {
            background: linear-gradient(135deg, #2d3748, #4a5568);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            min-height: 250px;
        }

        .toll-gate {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 150px;
            position: relative;
            margin: 20px 0;
        }

        .gate-pillar {
            width: 20px;
            height: 120px;
            background: linear-gradient(180deg, #718096, #4a5568);
            border-radius: 10px;
        }

        .gate-beam {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            height: 8px;
            background: #e53e3e;
            border-radius: 4px;
            transition: all 0.5s ease;
            transform-origin: left;
        }

        .gate-beam.open {
            transform: rotate(-45deg);
            background: #38a169;
        }

        .car {
            position: absolute;
            left: -100px;
            bottom: 40px;
            width: 80px;
            height: 40px;
            background: linear-gradient(45deg, #3182ce, #2b77cb);
            border-radius: 20px 5px 5px 20px;
            transition: all 2s ease;
        }

        .car::before {
            content: 'üöó';
            position: absolute;
            top: -5px;
            left: 10px;
            font-size: 30px;
        }

        .car.moving {
            left: calc(100% + 20px);
        }

        .rfid-scanner {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 30px;
            background: linear-gradient(45deg, #805ad5, #9f7aea);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .scan-waves {
            position: absolute;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 50px;
        }

        .wave {
            position: absolute;
            border: 2px solid #38a169;
            border-radius: 50%;
            opacity: 0;
            animation: scanPulse 2s infinite;
        }

        .wave:nth-child(1) { animation-delay: 0s; }
        .wave:nth-child(2) { animation-delay: 0.5s; }
        .wave:nth-child(3) { animation-delay: 1s; }

        @keyframes scanPulse {
            0% {
                width: 20px;
                height: 20px;
                opacity: 1;
            }
            100% {
                width: 100px;
                height: 100px;
                opacity: 0;
            }
        }

        .log-display {
            background: var(--text-primary);
            color: #00ff88;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            height: 200px;
            overflow-y: auto;
            margin-top: 15px;
            border: 2px solid #00ff88;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-success { background: #2ecc71; }
        .status-warning { background: #f39c12; }
        .status-error { background: #e74c3c; }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .dashboard-card {
            background: var(--secondary-gradient);
            padding: 25px;
            border-radius: 15px;
            color: white;
            text-align: center;
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            height: 10px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00d4aa);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .challenge-solution {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
            padding: 20px;
            background: var(--accent-gradient);
            border-radius: 12px;
            color: white;
        }

        .challenge-solution h4 {
            margin-bottom: 10px;
        }

        .vehicle-display {
            background: var(--secondary-gradient);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            color: white;
        }

        .vehicle-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .vehicle-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .balance-display {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .transaction-log {
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
        }

        .transaction-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .header p { font-size: 1rem; }
            .container { padding: 10px; }
            .tab-content, .header { padding: 20px; }
            .simulation-controls { flex-direction: column; }
            .challenge-solution { grid-template-columns: 1fr; }
            .theme-toggle { top: 10px; right: 10px; }
        }

        .fade-enter {
            opacity: 0;
            transform: translateY(30px);
        }

        .fade-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.6s ease;
        }

        .prediction-chart {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            height: 200px;
            position: relative;
            overflow: hidden;
        }

        .chart-bars {
            display: flex;
            align-items: end;
            height: 120px;
            gap: 5px;
            margin: 20px 0;
        }

        .chart-bar {
            background: var(--accent-gradient);
            border-radius: 3px;
            flex: 1;
            min-height: 20px;
            animation: growBar 1s ease-out;
        }

        @keyframes growBar {
            from { height: 0; }
            to { height: var(--bar-height); }
        }

        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--accent-gradient);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 999;
        }

        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" id="themeToggle">üåô</button>
    
    <div id="notification" class="notification">
        <div id="notificationText"></div>
    </div>
    
    <div class="container">
        <div class="profile-header">
            <div class="profile-info">
                Divakar M | ECE | Chaitanya Engineering College | 2020 - 2024
            </div>
            <h2 style="color: var(--text-primary); margin-bottom: 10px;">Final Year Project Showcase</h2>
            <p style="color: var(--text-secondary);">Electronics & Communication Engineering Graduate</p>
        </div>

        <div class="header">
            <h1>üöó RFID-Based Vehicle Toll Gate Automation System</h1>
            <p>An innovative IoT solution that automates toll collection using RFID technology, reducing manual work and traffic congestion while improving security and transparency.</p>
        </div>

        <div class="nav-tabs">
            <button class="tab-button active" onclick="showTab('overview')">Overview</button>
            <button class="tab-button" onclick="showTab('demo')">Live Demo</button>
            <button class="tab-button" onclick="showTab('tech-stack')">Tech Stack</button>
            <button class="tab-button" onclick="showTab('workflow')">Workflow</button>
            <button class="tab-button" onclick="showTab('challenges')">Challenges</button>
            <button class="tab-button" onclick="showTab('dashboard')">Dashboard</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <h2>üéØ Project Overview</h2>
            <div class="demo-section">
                <h3>üî∂ Project Theme</h3>
                <p>The project automates toll collection at toll gates using <strong>RFID technology</strong>. Each vehicle has an RFID tag linked to its account. When the vehicle passes through the toll gate, the RFID reader detects the tag, verifies the data in real time, deducts the toll fee from the vehicle's balance, and updates the database. This reduces manual work, minimizes traffic congestion, and improves security and transparency.</p>
            </div>

            <div class="demo-section">
                <h3>üë®‚Äçüíª My Role & Contributions</h3>
                <div class="features-list">
                    <div class="feature-item">
                        <h4>üîß Lead Developer & System Designer</h4>
                        <p>Designed complete workflow from hardware integration to frontend dashboard</p>
                    </div>
                    <div class="feature-item">
                        <h4>‚ö° Arduino-Backend Integration</h4>
                        <p>Integrated Arduino RFID module with backend APIs</p>
                    </div>
                    <div class="feature-item">
                        <h4>üèóÔ∏è Full-Stack Development</h4>
                        <p>Built REST APIs and React-based monitoring dashboard</p>
                    </div>
                    <div class="feature-item">
                        <h4>üîÆ Database Optimization</h4>
                        <p>Configured database for concurrent vehicles with real-time updates</p>
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h3>üß† Key Features</h3>
                <div class="features-list">
                    <div class="feature-item">‚úÖ Automatic toll fee deduction</div>
                    <div class="feature-item">üíæ Vehicle details stored & updated in real time</div>
                    <div class="feature-item">üí≥ User wallet balance linked with RFID tag</div>
                    <div class="feature-item">üìä Live dashboard for toll operator</div>
                    <div class="feature-item">üìà Historical data storage for reporting</div>
                    <div class="feature-item">ü§ñ Traffic congestion prediction (Future)</div>
                </div>
            </div>

            <div class="demo-section">
                <h3>‚ú® Project Impact</h3>
                <div class="features-list">
                    <div class="feature-item">üöÄ Reduced manual toll collection by 95%</div>
                    <div class="feature-item">‚ö° Faster vehicle movement, less congestion</div>
                    <div class="feature-item">üîí Secure and transparent transactions</div>
                    <div class="feature-item">üèôÔ∏è Scalable design for smart city adoption</div>
                </div>
            </div>
        </div>

        <!-- Live Demo Tab -->
        <div id="demo" class="tab-content">
            <h2>üéÆ Interactive System Simulation</h2>
            
            <div class="rfid-animation-container">
                <h3 style="color: white; margin-bottom: 20px; text-align: center;">üöß RFID Toll Gate Animation</h3>
                <div class="toll-gate">
                    <div class="gate-pillar"></div>
                    <div class="gate-beam" id="gateBeam"></div>
                    <div class="gate-pillar"></div>
                    <div class="rfid-scanner">RFID</div>
                    <div class="scan-waves" id="scanWaves" style="display: none;">
                        <div class="wave"></div>
                        <div class="wave"></div>
                        <div class="wave"></div>
                    </div>
                    <div class="car" id="animatedCar"></div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="sim-button" onclick="simulateCarPassage()" id="carPassageBtn">
                        üöó Start Full Car Passage Animation
                    </button>
                </div>
            </div>

            <div class="vehicle-display">
                <h3>üöó Current Vehicle Information</h3>
                <div id="currentVehicleInfo">
                    <div class="vehicle-info">
                        <div class="vehicle-card">
                            <h4>Vehicle ID</h4>
                            <p id="vehicleId">No vehicle detected</p>
                        </div>
                        <div class="vehicle-card">
                            <h4>RFID Tag</h4>
                            <p id="rfidTag">-</p>
                        </div>
                        <div class="vehicle-card">
                            <h4>Owner</h4>
                            <p id="vehicleOwner">-</p>
                        </div>
                        <div class="vehicle-card">
                            <h4>Balance</h4>
                            <p id="vehicleBalance" class="balance-display">‚Çπ0</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="simulation-panel">
                <h3>üéØ RFID Toll Gate Simulator</h3>
                <div class="simulation-controls">
                    <button class="sim-button" onclick="simulateVehicle()" id="vehicleBtn">üöó Vehicle Approach</button>
                    <button class="sim-button" onclick="simulateBalance()" id="balanceBtn">üí≥ Check Balance</button>
                    <button class="sim-button" onclick="simulateTransaction()" id="transactionBtn">üí∞ Process Payment</button>
                    <button class="sim-button" onclick="simulateInsufficientFunds()" id="insufficientBtn">‚ùå Insufficient Funds</button>
                    <button class="sim-button" onclick="clearLogs()">üóëÔ∏è Clear Logs</button>
                </div>
                <div class="log-display" id="logDisplay">
[SYSTEM] RFID Toll Gate System initialized successfully...
[INFO] Waiting for vehicle detection...
[STATUS] All systems operational. Ready to process transactions.
                </div>
            </div>

            <div class="demo-section" id="recentTransactions">
                <h3>üìã Recent Transactions</h3>
                <div class="transaction-log" id="transactionLog">
                    <div class="transaction-item">
                        <span>No recent transactions</span>
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h3>üéØ System Status</h3>
                <div id="systemStatus">
                    <p><span class="status-indicator status-success"></span>RFID Reader: Online</p>
                    <p><span class="status-indicator status-success"></span>Database: Connected</p>
                    <p><span class="status-indicator status-success"></span>Payment Gateway: Active</p>
                    <p><span class="status-indicator status-warning" id="gateStatus"></span> Gate Status: <span id="gateStatusText">Closed</span></p>

                </div>
            </div>
        </div>

        <!-- Tech Stack Tab -->
        <div id="tech-stack" class="tab-content">
            <h2>üõ†Ô∏è Technologies & Tools Used</h2>
            <div class="tech-grid">
                <div class="tech-card">
                    <h3>Hardware</h3>
                    <p>Arduino UNO<br>RFID Reader & Tags<br>Servo Motors</p>
                </div>
                <div class="tech-card">
                    <h3>Programming</h3>
                    <p>Python / Node.js<br>C++ (Arduino)<br>JavaScript ES6+</p>
                </div>
                <div class="tech-card">
                    <h3>Backend</h3>
                    <p>FastAPI / Express.js<br>REST APIs<br>Real-time Processing</p>
                </div>
                <div class="tech-card">
                    <h3>Frontend</h3>
                    <p>React.js<br>HTML5/CSS3<br>Responsive Design</p>
                </div>
                <div class="tech-card">
                    <h3>Database</h3>
                    <p>Firebase Realtime DB<br>MongoDB Atlas<br>Redis Cache</p>
                </div>
                <div class="tech-card">
                    <h3>Deployment</h3>
                    <p>Netlify (Frontend)<br>Render/Heroku (Backend)<br>Cloud Integration</p>
                </div>
                <div class="tech-card">
                    <h3>Testing Tools</h3>
                    <p>Postman<br>Serial Monitor<br>Console Logs</p>
                </div>
                <div class="tech-card">
                    <h3>Future Add-ons</h3>
                    <p>Machine Learning<br>Python Scikit-learn<br>Prophet Predictions</p>
                </div>
            </div>

            <div class="demo-section">
                <h3>üîß Development Tools & Environment</h3>
                <div class="features-list">
                    <div class="feature-item">Arduino IDE for hardware programming</div>
                    <div class="feature-item">VS Code with extensions for full-stack development</div>
                    <div class="feature-item">Postman for API testing and documentation</div>
                    <div class="feature-item">Git & GitHub for version control</div>
                    <div class="feature-item">Firebase Console for real-time database management</div>
                    <div class="feature-item">Chrome DevTools for frontend debugging</div>
                </div>
            </div>
        </div>

        <!-- Workflow Tab -->
        <div id="workflow" class="tab-content">
            <h2>‚öôÔ∏è System Workflow (Step by Step)</h2>
            <div id="workflowSteps">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div>
                        <h4>Vehicle Detection</h4>
                        <p>Vehicle approaches toll gate ‚Üí RFID tag is scanned by reader</p>
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div>
                        <h4>Data Transmission</h4>
                        <p>Arduino sends the unique tag ID to backend server via serial communication</p>
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div>
                        <h4>Account Verification</h4>
                        <p>Backend checks database for vehicle account & current balance</p>
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div>
                        <h4>Transaction Processing</h4>
                        <p>If sufficient balance ‚Üí deduct toll, update record, open gate</p>
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div>
                        <h4>Data Logging</h4>
                        <p>Transaction details (vehicle ID, time, toll amount) stored in database</p>
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">6</div>
                    <div>
                        <h4>Dashboard Update</h4>
                        <p>React dashboard updates instantly with live transaction data</p>
                    </div>
                </div>
                <div class="workflow-step">
                    <div class="step-number">7</div>
                    <div>
                        <h4>Error Handling</h4>
                        <p>If balance insufficient ‚Üí display alert, block gate, log incident</p>
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h3>üîÑ Real-time Data Flow</h3>
                <div class="features-list">
                    <div class="feature-item">Hardware ‚Üí Arduino Serial ‚Üí Backend API</div>
                    <div class="feature-item">Backend ‚Üí Database Query ‚Üí Balance Check</div>
                    <div class="feature-item">Database ‚Üí Transaction Log ‚Üí Update Balance</div>
                    <div class="feature-item">Backend ‚Üí Frontend ‚Üí Live Dashboard Update</div>
                    <div class="feature-item">System ‚Üí Gate Control ‚Üí Physical Response</div>
                    <div class="feature-item">Analytics ‚Üí ML Model ‚Üí Traffic Prediction</div>
                </div>
            </div>
        </div>

        <!-- Challenges Tab -->
        <div id="challenges" class="tab-content">
            <h2>üöß Major Challenges & Solutions</h2>
            
            <div class="challenge-solution">
                <div>
                    <h4>üî¥ Challenge</h4>
                    <p>Real-time hardware-to-software communication</p>
                </div>
                <div>
                    <h4>‚úÖ Solution</h4>
                    <p>Used serial communication + REST API to sync RFID with backend</p>
                </div>
            </div>

            <div class="challenge-solution">
                <div>
                    <h4>üî¥ Challenge</h4>
                    <p>Multiple vehicles scanned at once</p>
                </div>
                <div>
                    <h4>‚úÖ Solution</h4>
                    <p>Added debounce logic & unique timestamp per transaction</p>
                </div>
            </div>

            <div class="challenge-solution">
                <div>
                    <h4>üî¥ Challenge</h4>
                    <p>Database lag during peak traffic times</p>
                </div>
                <div>
                    <h4>‚úÖ Solution</h4>
                    <p>Used indexed queries + Redis caching for faster response</p>
                </div>
            </div>

            <div class="challenge-solution">
                <div>
                    <h4>üî¥ Challenge</h4>
                    <p>Testing without physical vehicles</p>
                </div>
                <div>
                    <h4>‚úÖ Solution</h4>
                    <p>Created simulated RFID inputs & comprehensive test dataset</p>
                </div>
            </div>

            <div class="challenge-solution">
                <div>
                    <h4>üî¥ Challenge</h4>
                    <p>Managing large transaction logs</p>
                </div>
                <div>
                    <h4>‚úÖ Solution</h4>
                    <p>Used database sharding / archiving strategy</p>
                </div>
            </div>

            <div class="demo-section">
                <h3>üóÉÔ∏è Database Design & Optimization</h3>
                <div class="features-list">
                    <div class="feature-item">üìã Collections: Vehicles, Transactions, Users</div>
                    <div class="feature-item">üîë Fields: Vehicle_ID, Tag_ID, Balance, Timestamp, Status</div>
                    <div class="feature-item">üìä Indexing on Tag_ID & Timestamp</div>
                    <div class="feature-item">‚ö° Caching recent transactions</div>
                    <div class="feature-item">üóÑÔ∏è Archive old logs for performance</div>
                    <div class="feature-item">üíé ACID properties for financial data</div>
                </div>
            </div>

            <div class="demo-section">
                <h3>üß© Key Learnings</h3>
                <div class="features-list">
                    <div class="feature-item">üîå End-to-end IoT integration expertise</div>
                    <div class="feature-item">‚ö° Real-time system optimization</div>
                    <div class="feature-item">üóÑÔ∏è Database performance under load</div>
                    <div class="feature-item">üåâ Hardware-software bridge development</div>
                    <div class="feature-item">üöÄ Scalable architecture for smart cities</div>
                    <div class="feature-item">üîí Secure financial transaction handling</div>
                </div>
            </div>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content">
            <h2>üìä Live Dashboard Metrics</h2>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Today's Traffic</h3>
                    <div class="metric-value" id="trafficCount">1,247</div>
                    <p>Vehicles Processed</p>
                </div>
                <div class="dashboard-card">
                    <h3>Revenue Generated</h3>
                    <div class="metric-value" id="revenueCount">‚Çπ24,940</div>
                    <p>Total Collections</p>
                </div>
                <div class="dashboard-card">
                    <h3>System Uptime</h3>
                    <div class="metric-value" id="uptimeCount">99.8%</div>
                    <p>Operational Status</p>
                </div>
                <div class="dashboard-card">
                    <h3>Average Processing</h3>
                    <div class="metric-value" id="processingTime">2.3s</div>
                    <p>Per Transaction</p>
                </div>
            </div>

            <div class="demo-section">
                <h3>üîÆ Advanced Feature ‚Äì Traffic Congestion Prediction</h3>
                <div class="prediction-chart">
                    <h4>Hourly Traffic Prediction (Next 8 Hours)</h4>
                    <div class="chart-bars" id="predictionChart">
                        <div class="chart-bar" style="--bar-height: 60px;"></div>
                        <div class="chart-bar" style="--bar-height: 85px;"></div>
                        <div class="chart-bar" style="--bar-height: 95px;"></div>
                        <div class="chart-bar" style="--bar-height: 110px;"></div>
                        <div class="chart-bar" style="--bar-height: 75px;"></div>
                        <div class="chart-bar" style="--bar-height: 45px;"></div>
                        <div class="chart-bar" style="--bar-height: 30px;"></div>
                        <div class="chart-bar" style="--bar-height: 20px;"></div>
                    </div>
                    <p><strong>Data Collected:</strong> Vehicle entries with timestamps</p>
                    <p><strong>Approach:</strong> Time-series analysis (ARIMA, Facebook Prophet, LSTM models)</p>
                    <p><strong>Benefit:</strong> Helps operators plan staff & reduce wait time</p>
                </div>
                
                <p><strong>Next Hour Prediction:</strong> High traffic expected (85% confidence)</p>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 85%"></div>
                </div>
                <p><strong>Recommendation:</strong> Deploy additional staff for optimal traffic flow</p>
            </div>

            <div class="demo-section">
                <h3>üéØ Performance Analytics</h3>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Success Rate</h3>
                        <div class="metric-value">98.7%</div>
                        <p>Successful Transactions</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Failed Transactions</h3>
                        <div class="metric-value">1.3%</div>
                        <p>Insufficient Balance</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Peak Hour</h3>
                        <div class="metric-value">8-9 AM</div>
                        <p>Maximum Traffic</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Response Time</h3>
                        <div class="metric-value">1.8s</div>
                        <p>Average API Response</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // System State
        let systemState = {
            isAnimating: false,
            currentVehicle: null,
            transactions: [],
            dailyRevenue: 24940,
            dailyTraffic: 1247,
            logs: []
        };

        // Sample vehicle database
        const vehicleDatabase = [
            { id: 'AP39AB1234', tag: 'RF001', owner: 'Virat', balance: 450 },
            { id: 'KA02CD5678', tag: 'RF002', owner: 'Shasank K', balance: 1200 },
            { id: 'TG03EF9012', tag: 'RF003', owner: 'Arjun Reddy', balance: 25 },
            { id: 'MH04GH3456', tag: 'RF004', owner: 'Ronaldo', balance: 800 },
            { id: 'TN05IJ7890', tag: 'RF005', owner: 'Bhanu', balance: 300 },
        ];

        // Theme toggle functionality
        let isDarkTheme = false;

        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('themeToggle');
            
            if (isDarkTheme) {
                body.removeAttribute('data-theme');
                themeToggle.textContent = 'üåô';
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '‚òÄÔ∏è';
            }
            
            isDarkTheme = !isDarkTheme;
        }

        // Tab functionality
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Notification system
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.className = `notification show ${type}`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Logging system
        function addLog(message, type = 'INFO') {
            const logDisplay = document.getElementById('logDisplay');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] [${type}] ${message}`;
            
            systemState.logs.push(logEntry);
            
            // Keep only last 50 logs
            if (systemState.logs.length > 50) {
                systemState.logs = systemState.logs.slice(-50);
            }
            
            // Update display
            logDisplay.innerHTML = systemState.logs.join('\n');
            logDisplay.scrollTop = logDisplay.scrollHeight;
        }

        // Vehicle simulation functions
        function simulateVehicle() {
            if (systemState.isAnimating) return;
            
            const randomVehicle = vehicleDatabase[Math.floor(Math.random() * vehicleDatabase.length)];
            systemState.currentVehicle = randomVehicle;
            
            updateVehicleDisplay(randomVehicle);
            addLog(`Vehicle detected: ${randomVehicle.id}`, 'DETECT');
            addLog(`RFID Tag scanned: ${randomVehicle.tag}`, 'SCAN');
            addLog('Sending data to backend server...', 'TRANSMIT');
            
            // Show scanning animation
            const scanWaves = document.getElementById('scanWaves');
            scanWaves.style.display = 'block';
            
            setTimeout(() => {
                scanWaves.style.display = 'none';
                addLog('Vehicle data retrieved successfully', 'SUCCESS');
                showNotification(`Vehicle ${randomVehicle.id} detected!`);
            }, 2000);
        }

        function simulateBalance() {
            if (!systemState.currentVehicle) {
                addLog('No vehicle detected. Please scan a vehicle first.', 'ERROR');
                showNotification('No vehicle detected!', 'error');
                return;
            }
            
            const vehicle = systemState.currentVehicle;
            addLog(`Checking balance for ${vehicle.id}...`, 'QUERY');
            addLog(`Database query: SELECT balance FROM vehicles WHERE tag_id='${vehicle.tag}'`, 'DB');
            
            setTimeout(() => {
                addLog(`Balance retrieved: ‚Çπ${vehicle.balance}`, 'SUCCESS');
                if (vehicle.balance >= 50) {
                    addLog('Sufficient balance for toll payment', 'VERIFY');
                } else {
                    addLog('WARNING: Insufficient balance for toll payment', 'WARNING');
                }
                showNotification(`Balance: ‚Çπ${vehicle.balance}`);
            }, 1500);
        }

        function simulateTransaction() {
            if (!systemState.currentVehicle) {
                addLog('No vehicle detected. Please scan a vehicle first.', 'ERROR');
                showNotification('No vehicle detected!', 'error');
                return;
            }
            
            const vehicle = systemState.currentVehicle;
            const tollAmount = 50;
            
            addLog(`Processing payment for ${vehicle.id}...`, 'PAYMENT');
            addLog(`Toll amount: ‚Çπ${tollAmount}`, 'AMOUNT');
            
            if (vehicle.balance >= tollAmount) {
                // Successful transaction
                vehicle.balance -= tollAmount;
                const transaction = {
                    vehicleId: vehicle.id,
                    amount: tollAmount,
                    timestamp: new Date().toLocaleString(),
                    status: 'SUCCESS'
                };
                
                systemState.transactions.unshift(transaction);
                systemState.dailyRevenue += tollAmount;
                systemState.dailyTraffic += 1;
                
                addLog(`Payment successful! Amount deducted: ‚Çπ${tollAmount}`, 'SUCCESS');
                addLog(`New balance: ‚Çπ${vehicle.balance}`, 'BALANCE');
                addLog('Opening toll gate...', 'GATE');
                addLog('Database updated successfully', 'DB');
                
                // Update displays
                updateVehicleDisplay(vehicle);
                updateTransactionLog();
                updateDashboardMetrics();
                openGate();
                
                showNotification('Payment successful! Gate opening...');
            } else {
                // Failed transaction
                const transaction = {
                    vehicleId: vehicle.id,
                    amount: tollAmount,
                    timestamp: new Date().toLocaleString(),
                    status: 'FAILED'
                };
                
                systemState.transactions.unshift(transaction);
                
                addLog(`Payment failed! Insufficient balance: ‚Çπ${vehicle.balance}`, 'ERROR');
                addLog('Toll gate remains closed', 'GATE');
                addLog('Alert sent to operator dashboard', 'ALERT');
                
                updateTransactionLog();
                showNotification('Insufficient funds! Payment failed.', 'error');
            }
        }

        function simulateInsufficientFunds() {
            // Simulate a vehicle with low balance
            const lowBalanceVehicle = { 
                id: 'KA07MN8901', 
                tag: 'RF007', 
                owner: 'Diva M', 
                balance: 15 
            };
            
            systemState.currentVehicle = lowBalanceVehicle;
            updateVehicleDisplay(lowBalanceVehicle);
            
            addLog(`Vehicle detected: ${lowBalanceVehicle.id}`, 'DETECT');
            addLog(`RFID Tag scanned: ${lowBalanceVehicle.tag}`, 'SCAN');
            addLog(`Balance check: ‚Çπ${lowBalanceVehicle.balance}`, 'BALANCE');
            addLog('WARNING: Insufficient funds for toll payment', 'WARNING');
            addLog('Access denied. Gate remains closed.', 'DENY');
            addLog('Please recharge your account to proceed.', 'INFO');
            
            showNotification('Insufficient funds! Please recharge.', 'error');
        }

        function clearLogs() {
            systemState.logs = [];
            document.getElementById('logDisplay').innerHTML = '[SYSTEM] Logs cleared. System ready for new operations...';
            showNotification('Logs cleared successfully');
        }

        // Animation functions
        function simulateCarPassage() {
            if (systemState.isAnimating) return;
            
            systemState.isAnimating = true;
            const car = document.getElementById('animatedCar');
            const gateBeam = document.getElementById('gateBeam');
            const scanWaves = document.getElementById('scanWaves');
            const btn = document.getElementById('carPassageBtn');
            
            btn.disabled = true;
            btn.textContent = 'üöó Animation in Progress...';
            
            // Reset position
            car.classList.remove('moving');
            car.style.left = '-100px';
            
            // Start animation sequence
            addLog('Vehicle approaching toll gate...', 'APPROACH');
            
            // Move car to scanner
            setTimeout(() => {
                car.style.left = 'calc(50% - 40px)';
                addLog('Vehicle at RFID scanner position', 'POSITION');
            }, 500);
            
            // Start scanning
            setTimeout(() => {
                scanWaves.style.display = 'block';
                addLog('RFID scanning in progress...', 'SCAN');
            }, 2500);
            
            // Process payment
            setTimeout(() => {
                scanWaves.style.display = 'none';
                addLog('RFID tag verified successfully', 'VERIFY');
                addLog('Payment processed. Opening gate...', 'PAYMENT');
                gateBeam.classList.add('open');
                updateGateStatus(true);
            }, 4500);
            
            // Car continues
            setTimeout(() => {
                car.classList.add('moving');
                addLog('Vehicle passing through toll gate', 'PASS');
            }, 6000);
            
            // Close gate
            setTimeout(() => {
                gateBeam.classList.remove('open');
                updateGateStatus(false);
                addLog('Gate closed. Transaction complete.', 'COMPLETE');
                
                systemState.isAnimating = false;
                btn.disabled = false;
                btn.textContent = 'üöó Start Full Car Passage Animation';
                
                showNotification('Car passage simulation completed!');
            }, 8000);
        }

        function openGate() {
            const gateBeam = document.getElementById('gateBeam');
            gateBeam.classList.add('open');
            updateGateStatus(true);
            
            setTimeout(() => {
                gateBeam.classList.remove('open');
                updateGateStatus(false);
                addLog('Gate closed automatically', 'GATE');
            }, 3000);
        }

        function updateGateStatus(isOpen) {
            const gateStatus = document.getElementById('gateStatus');
            const gateStatusText = document.getElementById('gateStatusText');
            
            if (isOpen) {
                gateStatus.className = 'status-indicator status-success';
                gateStatusText.textContent = 'Open';
            } else {
                gateStatus.className = 'status-indicator status-warning';
                gateStatusText.textContent = 'Closed';
            }
        }

        // UI Update functions
        function updateVehicleDisplay(vehicle) {
            document.getElementById('vehicleId').textContent = vehicle.id;
            document.getElementById('rfidTag').textContent = vehicle.tag;
            document.getElementById('vehicleOwner').textContent = vehicle.owner;
            document.getElementById('vehicleBalance').textContent = `‚Çπ${vehicle.balance}`;
        }

        function updateTransactionLog() {
            const transactionLog = document.getElementById('transactionLog');
            
            if (systemState.transactions.length === 0) {
                transactionLog.innerHTML = '<div class="transaction-item"><span>No recent transactions</span></div>';
                return;
            }
            
            transactionLog.innerHTML = systemState.transactions.slice(0, 10).map(transaction => {
                const statusColor = transaction.status === 'SUCCESS' ? '#2ecc71' : '#e74c3c';
                return `
                    <div class="transaction-item">
                        <div>
                            <strong>${transaction.vehicleId}</strong><br>
                            <small>${transaction.timestamp}</small>
                        </div>
                        <div style="text-align: right;">
                            <strong style="color: ${statusColor};">‚Çπ${transaction.amount}</strong><br>
                            <small>${transaction.status}</small>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateDashboardMetrics() {
            document.getElementById('trafficCount').textContent = systemState.dailyTraffic.toLocaleString();
            document.getElementById('revenueCount').textContent = `‚Çπ${systemState.dailyRevenue.toLocaleString()}`;
            
            // Simulate updating other metrics
            const processingTime = (Math.random() * 2 + 1.5).toFixed(1);
            document.getElementById('processingTime').textContent = `${processingTime}s`;
        }

        // Initialize system
        function initializeSystem() {
            addLog('System initialization complete', 'SYSTEM');
            addLog('RFID reader connected and calibrated', 'HARDWARE');
            addLog('Database connection established', 'DATABASE');
            addLog('Payment gateway active', 'PAYMENT');
            addLog('All systems operational', 'STATUS');
            
            // Initialize some sample transactions
            systemState.transactions = [
                {
                    vehicleId: 'KA01AB1234',
                    amount: 50,
                    timestamp: new Date(Date.now() - 300000).toLocaleString(),
                    status: 'SUCCESS'
                },
                {
                    vehicleId: 'TN05IJ7890',
                    amount: 50,
                    timestamp: new Date(Date.now() - 600000).toLocaleString(),
                    status: 'SUCCESS'
                }
            ];
            
            updateTransactionLog();
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeSystem();
            
            // Auto-update metrics every 5 seconds
            setInterval(() => {
                if (Math.random() > 0.7) {
                    const metrics = ['trafficCount', 'revenueCount'];
                    metrics.forEach(metric => {
                        const element = document.getElementById(metric);
                        let value = parseInt(element.textContent.replace(/[‚Çπ,]/g, ''));
                        value += Math.floor(Math.random() * 5) + 1;
                        element.textContent = metric === 'revenueCount' ? `‚Çπ${value.toLocaleString()}` : value.toLocaleString();
                    });
                }
            }, 5000);
        });
    </script>
</body>
</html>
